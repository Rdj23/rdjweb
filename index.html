<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <title>Movies Demo</title>

    <script type="text/javascript">
      var clevertap = {
        event: [],
        profile: [],
        account: [],
        onUserLogin: [],
        notifications: [],
        privacy: [],
      };
      // replace with the CLEVERTAP_ACCOUNT_ID with the actual ACCOUNT ID value from your Dashboard â€“> Settings page
      clevertap.account.push({ id: "R57-875-KK7Z" });
      clevertap.privacy.push({ optOut: false }); //set the flag to true, if the user of the device opts out of sharing their data
      clevertap.dismissSpamControl = true;
      clevertap.privacy.push({ useIP: false }); //set the flag to true, if the user agrees to share their IP data
      (function () {
        var wzrk = document.createElement("script");
        wzrk.type = "text/javascript";
        wzrk.async = true;
        wzrk.src =
          ("https:" == document.location.protocol
            ? "https://d2r1yp2w7bby2u.cloudfront.net"
            : "http://static.clevertap.com") + "/js/clevertap.min.js";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(wzrk, s);
      })();
    </script>

    <script>
      window.clevertap = window.clevertap || {};
      window.clevertap.notifications = window.clevertap.notifications || [];
      window.clevertap.notifications.push({
        titleText: "Turn On Notifications?",
        bodyText: "We will only send you relevant and useful updates.",
        okButtonText: "Allow",
        rejectButtonText: "Later",
        okButtonColor: "#0b82ff",
        askAgainTimeInSeconds: 30,
        serviceWorkerPath: "clevertap_sw.js",
      });
    </script>

    <!-- Firebase minimal init (keeps your credentials) -->
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
      import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-analytics.js";

      const firebaseConfig = {
        apiKey: "AIzaSyB0nT_1P6AJVqEVNPDS5-dxUDPy-pR0N0Q",
        authDomain: "react-native-c88d2.firebaseapp.com",
        projectId: "react-native-c88d2",
        storageBucket: "react-native-c88d2.firebasestorage.app",
        messagingSenderId: "836702820069",
        appId: "1:836702820069:web:8324d5a4e3c416783a660c",
        measurementId: "G-3D5ECPENFD",
      };

      const app = initializeApp(firebaseConfig);
      const analytics = getAnalytics(app);
    </script>

    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <script>
      function getParam(name) {
        return new URLSearchParams(window.location.search).get(name);
      }

      const utmContent = getParam("utm_content");
      const utmTerm = getParam("utm_term");

      if (utmContent || utmTerm) {
        clevertap.event.push("UTM_Visited", {
          utm_content: utmContent,
          utm_term: utmTerm
        });
      }
    </script>
  </body>
</html>
